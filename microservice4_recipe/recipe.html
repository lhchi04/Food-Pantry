<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Microservice</title>
</head>

<body>
    <h1>Recipes</h1>
    <div id="recipes"></div>

    <button onclick="fetchSelectedRecipes()">Fetch Selected Recipes</button>
    <button onclick="fetchRandomRecipes()">Fetch Random Recipes</button>

    <script>
        // Function to fetch selected recipes from the recipe microservice
        function fetchSelectedRecipes() {
            // Make a GET request to the /recipes endpoint of the recipe microservice
            fetch('http://localhost:5001/recipes?items=Apple,Banana,Flour')
                .then(response => response.json())
                .then(recipes => displayRecipes(recipes))
                .catch(error => console.error('Error fetching selected recipes:', error));
        }

        // Function to fetch random recipes from the recipe microservice
        function fetchRandomRecipes() {
            // Make a GET request to the /random-recipes endpoint of the recipe microservice
            fetch('http://localhost:5001/random-recipes')
                .then(response => response.json())
                .then(recipes => displayRecipes(recipes))
                .catch(error => console.error('Error fetching random recipes:', error));
        }

        // Function to display recipes on the page
        function displayRecipes(recipes) {
            // Get the div element where recipes will be displayed
            var recipesDiv = document.getElementById('recipes');
            // Clear any existing content in the div
            recipesDiv.innerHTML = '';

            // Loop through each recipe and create a div element to display it
            recipes.forEach(recipe => {
                var recipeElement = document.createElement('div');
                recipeElement.textContent = recipe.title; // Assuming each recipe object has a 'title' property
                recipesDiv.appendChild(recipeElement);
            });
        }
    </script>
</body>

</html>
